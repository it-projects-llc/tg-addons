<?xml version="1.0" encoding="utf-8" ?>
<odoo>

    <template id="details_passport" inherit_id="portal.portal_my_details_fields">
        <xpath expr="//select[@name='state_id']/.." position="after">
            <br />
            <div t-attf-class="form-group col-lg-12">
                <h1>Identification</h1>
            </div>
            <br />
            <div
                t-attf-class="mb-3 #{error.get('passport') and 'o_has_error' or ''} col-xl-6"
            >
                <label class="col-form-label" for="passport">Passport</label>
                <input
                    type="text"
                    name="passport"
                    t-attf-class="form-control #{error.get('passport') and 'is-invalid' or ''}"
                    t-att-value="passport or partner.passport"
                />
                <div class="mb-3" t-if="show_passport_checkbox">
                    <input
                        class="form-check-input"
                        type="checkbox"
                        id="is_passport_not_ready"
                        name="is_passport_not_ready"
                        t-att-checked="is_passport_not_ready or partner.is_passport_not_ready"
                    />
                    <!-- TODO: form-check-label? -->
                    <!-- TODO: form-check-input? -->
                    <label
                        class="form-check-label"
                        for="is_passport_not_ready"
                    >Passport is not ready</label>
                </div>
            </div>
            <div
                t-attf-class="mb-3 #{error.get('cedula') and 'o_has_error' or ''} col-xl-6"
            >
                <t t-set="has_cedula" t-value="has_cedula or partner.has_cedula" />

                <label
                    t-attf-class="control-label #{'' if has_cedula else 'invisible'}"
                    for="cedula"
                >Cedula</label>
                <input
                    type="text"
                    name="cedula"
                    t-attf-class="form-control #{error.get('cedula') and 'is-invalid' or ''}  #{'' if has_cedula else 'invisible'}"
                    t-att-value="cedula or partner.cedula"
                />
                <div class="form-check">
                    <input
                        class="form-check-input"
                        type="checkbox"
                        id="has_cedula"
                        name="has_cedula"
                        t-att-checked="has_cedula"
                    />
                    <label
                        class="form-check-label"
                        for="has_cedula"
                    >I have Cedula</label>
                </div>
            </div>
            <div
                t-attf-class="mb-3 #{error.get('birthdate_date') and 'o_has_error' or ''} col-xl-6"
            >
                <label class="col-form-label" for="birthdate_date">Date of Birth</label>
                <input
                    type="date"
                    name="birthdate_date"
                    t-attf-class="form-control #{error.get('birthdate_date') and 'is-invalid' or ''}"
                    t-att-value="birthdate_date or partner.birthdate_date"
                />
            </div>
            <div
                t-attf-class="mb-3 #{error.get('nationality_id') and 'o_has_error' or ''} col-xl-6"
            >
                <label
                    class="col-form-label"
                    for="nationality_id"
                >Country of Citizenship</label>
                <select
                    name="nationality_id"
                    t-attf-class="form-control #{error.get('nationality_id') and 'is-invalid' or ''}"
                >
                    <option value="">Country of Citizenship</option>
                    <t t-foreach="countries or []" t-as="country">
                        <option
                            t-att-value="country.id"
                            t-att-selected="country.id == int(country_id) if country_id else country.id == partner.country_id.id"
                        >
                            <t t-esc="country.name" />
                        </option>
                    </t>
                </select>
            </div>
            <br />
        </xpath>
    </template>

</odoo>
